<!DOCTYPE html>
<html lang="da">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>js-3-kpauner</title>
	<link rel="stylesheet" href="./css/style.css">
</head>
<body>
	<a href="#content" class="sr-hidden">Skip to content</a>
	<header class="siteHeader">
		<nav role="navigation">
			<a href="./" class="siteBrand" onclick="route()">Verdens Bedste Hjemmeside</a>
			<ul class="primaryNavigation">
				<li class="primaryNavigation__navigationItem"><a href="/page1" onclick="route()">Link 1</a></li>
				<li class="primaryNavigation__navigationItem"><a href="/page2" onclick="route()">Link 2</a></li>
				<li class="primaryNavigation__navigationItem"><a href="/page3" onclick="route()">Link 3</a></li>
			</ul>
		</nav>
	</header>

	<main role="main" id="main"></main>

	<footer class="siteFooter" role="contentinfo">
		<section class="siteFooter__section siteFooter__quote">
			<blockquote>"Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident optio
				omnis aliquid. Quam laudantium quia voluptatem commodi quidem, provident amet
				reprehenderit sit	distinctio esse aperiam, libero fugiat aut blanditiis
				explicabo."</blockquote>
		</section>

		<section class="siteFooter__section siteFooter__contact">
			<address>
				<p>Verdens bedste hjemmeside</p>
				<p>Hjemmesidevej 42</p>
				<p>4242 Hjemmesidestrup</p>
				<p><a href="callto:004512345678">+45 12 345 678</a></p>
				<p><a href="mailto:hello@verdensbedstehjemmeside.dk">hello@verdensbedstehjemmeside.dk</a></p>
			</address>
		</section>

		<section class="siteFooter__section siteFooter__some">
			<ul>
				<li><i class="icon-facebook-squared"></i></li>
				<li><i class="icon-twitter-squared"></i></li>
				<li><i class="icon-instagram"></i></li>
			</ul>
		</section>
	</footer>

	<script>
		const route = (event) => {
			event = event || window.event;
			event.preventDefault();
			window.history.pushState({}, "",event.target.href);
			handleLocation()
		};

		const routes = {			
			"/": "/page3.html",
			"/page1": "/page1.html",
			"/page2": "/page2.html",
			"/page3": "/page3.html",
		};

		const handleLocation = async () => {
			const path = window.location.pathname;
			const route = routes[path] || routes[404];
			const html = await fetch(route).then((data => data.text()));
			document.getElementById("main").innerHTML = html;
		}

		window.onpopstate = handleLocation;
		window.route = route;
	</script>
</body>
</html>